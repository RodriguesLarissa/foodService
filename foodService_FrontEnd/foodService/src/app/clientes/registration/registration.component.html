<h3>Cadastro de Clientes</h3>
<br>
<form #f="ngForm" (ngSubmit)="onSubmit(f)" class="form-horizontal">
    
  <div class="row">
      <div class="col">
          <label for="name" class="form-label" style="font-weight: bold">Nome*</label>
          <input type="text" name="name" class="form-control" [class.is-invalid]="!name.valid && name.touched" id="name" placeholder="Insira o primeiro nome" 
          [(ngModel)]="usuario.name" required #name="ngModel">
          <div class="invalid-feedback">
              O campo nome é obrigatório.
          </div>
      </div>
      <div class="col">
        <label for="lastName" class="form-label" style="font-weight: bold">Sobrenome*</label>
        <input type="text" name="lastName" class="form-control" [class.is-invalid]="!lastName.valid && lastName.touched" id="lastName" placeholder="Insira o sobrenome completo" 
        [(ngModel)]="usuario.lastName" required #lastName="ngModel">
        <div class="invalid-feedback">
            O campo sobrenome é obrigatório.
        </div>
    </div>
  </div>
  <br>

  <div class="row">
      <div class="col-8">
          <label for="email" class="form-label" style="font-weight: bold">E-mail*</label>
          <input type="email" name="email" class="form-control" [class.is-invalid]="!email.valid && email.touched" id="email" placeholder="Insira o e-mail (Ex: usuario@hotmail.com)" 
          [(ngModel)]="usuario.email" required #email="ngModel" email>
          <div class="invalid-feedback">
              O campo e-mail é obrigatório.
          </div>
      </div>
      <div class="col-3">
        <label for="birthday" class="form-label" style="font-weight: bold">Data de Nascimento*</label>
        <input class="form-control" placeholder="yyyy-mm-dd"
             name="birthday" [class.is-invalid]="!birthday.validate" id="birthday" 
             [(ngModel)]="usuario.birthday" required ngbDatepicker #birthday="ngbDatepicker">
             <div class="invalid-feedback">
                O campo data de nascimento é obrigatório.
            </div>
    </div>
    <div class="col-1">
        <button class="btn btn-primary" (click)="birthday.toggle()" type="button"><fa-icon style="color: yellow;" [icon]="iconCalendar"></fa-icon></button>
    </div>
  </div>
  <br>

  <div ngModelGroup="endereco">
      <div class="row">
          <div class="col-md-3">
              <label for="cep" class="form-label" style="font-weight: bold;">CEP*</label>
              <input type="text" class="form-control" name="cep" id="cep" [class.is-invalid]="!cep.valid && cep.touched" 
              [(ngModel)]="usuario.cep" required #cep="ngModel" (blur)="consultaCEP($any($event.target).value, f)">
              <div class="invalid-feedback">
                  O campo CEP é obrigatório.
              </div>
          </div>

          <div class="col-md-3">
              <label for="number" class="form-label" style="font-weight: bold;">Número*</label>
              <input type="text" class="form-control" name="number" id="number" [class.is-invalid]="!number.valid && number.touched" 
              [(ngModel)]="usuario.number" required #number="ngModel">
              <div class="invalid-feedback">
                  O campo número é obrigatório.
              </div>
          </div>

          <div class="col-md-6">
              <label for="complement" class="form-label" style="font-weight: bold;">Complemento</label>
              <input type="text" class="form-control" name="complement" id="complement" 
              ngModel #complement="ngModel">
              
          </div>
      </div>
      <br>

      <div class="row">
          <div class="mb-3">
              <label for="street" class="form-label" style="font-weight: bold;">Rua*</label>
              <input type="text" name="street" class="form-control" id="street"  
              [class.is-invalid]="!street.valid && street.touched" 
              [(ngModel)]="usuario.street" required #street="ngModel">
              <div class="invalid-feedback">
                O campo rua é obrigatório.
            </div>
          </div>
      </div>
      <br>

      <div class="row">
          <div class="col-md-5">
              <label for="district" class="form-label" style="font-weight: bold;">Bairro*</label>
              <input type="text" name="district" class="form-control" id="district"  
              [class.is-invalid]="!district.valid && district.touched" 
              [(ngModel)]="usuario.district"  required #district="ngModel">
              <div class="invalid-feedback">
                O campo bairro é obrigatório.
            </div>
          </div>

          <div class="col-md-4">
              <label for="city" class="form-label" style="font-weight: bold;">Cidade*</label>
              <input type="text" name="city" class="form-control" id="city"  
              [class.is-invalid]="!city.valid && city.touched" 
              [(ngModel)]="usuario.city" required #city="ngModel" >
              <div class="invalid-feedback">
                O campo cidade é obrigatório.
            </div>
          </div>
          <div class="col-md-3">
              <label for="state" class="form-label" style="font-weight: bold;">State*</label>
              <input type="text" name="state" class="form-control" id="state"  
              [class.is-invalid]="!state.valid && state.touched" 
              [(ngModel)]="usuario.state" required #state="ngModel" >
              <div class="invalid-feedback">
                O campo estado é obrigatório.
            </div>
          </div>

      </div>
  </div>
  <br>

  <button type="submit" class="btn btn-primary" [disabled]="!f.valid">Submit</button>

</form>